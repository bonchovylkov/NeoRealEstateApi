<div>
    Search: <input ng-model="query">
    Sort by:
    <select ng-model="orderProp">
        <option value="postDate">Newest</option>
        <option value="town">Town</option>
        <option value="price">Price</option>
        <option value="tags">Tag</option> 
        <option value="headline">Alphabetical</option>                
    </select>
    View by towns:
    <select ng-model="selectedTown">
        <option ng-repeat="town in towns"
             value="{{town}}">{{town}}
        </option>             
    </select>
</div>
<div>
    <h3>Add new advert</h3>
    <fieldset>
		<label for="tb-title">Title:</label>
		<input type="text" id="tb-title" ng-model="newAdvert.headline" />
		<br />															
		<label for="tb-content">Content:</label>
		<input type="text" id="tb-content" ng-model="newAdvert.text" />
		<br />
        <label for="picture" class="filebutton">
        Upload a image file!
        <span><input type="file" id="picture" name="myfile" ng-model="newAdvert.pictures"></span>
        </label>
		<br />
        <label for="tb-town">Town:</label>
		<input type="text" id="tb-town" ng-model="newAdvert.town" />
		<br />
        <label for="tb-address">Address:</label>
		<input type="text" id="tb-address" ng-model="newAdvert.address" />
		<br />
        <label for="tb-tags">Tags:</label>
		<input type="text" id="tb-tags" ng-model="newAdvert.tags" />
		<br />
		<label for="tb-price">Price:</label>
		<input type="text" id="tb-price" ng-model="newAdvert.price" />
		<br /><!--
        <pre>form = {{newAdvert | json}}</pre>
      
        <pre>master = {{master | json}}</pre>-->
		<a href="#/admin/adverts" ng-click="addAdvert()">Add New Advert</a>
	</fieldset>
</div>
<ul class="adverts-list">
	<li class="advert-item" ng-repeat="advert in adverts | filter:selectedTown | filter:query | orderBy:orderProp" class="thumbnail">
		<a href="#/admin/adverts/{{advert.id}}">{{advert.headline}}</a>
		<p><strong>Advert Id:</strong> {{advert.id}}, <strong>Posted on:</strong> {{advert.postDate}} <strong>From town:</strong> {{advert.town}} - <a href="#/admin/adverts/{{advert.id}}"><strong>Address:...</strong></a></p>
        <strong>Tags:</strong>
			<span class="tags-item" ng-repeat="tag in advert.tags | filter:query | orderBy:orderProp">
				{{tag}}, 
			</span>
            <div>   
			<span class="pictures-item">
                <a href="#/admin/adverts/{{advert.id}}" class="thumb"><img ng-src="{{advert.pictures[0]}}"></a>				
			</span>
            </div>
		<p> Price:  {{advert.price}} EUR</p>
	</li>
</ul>